<!DOCTYPE html>

<html lang="en">

<head>

    <!-- meta -->
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- css files -->
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}" type="text/css">

    <!-- jquery -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>

    <!-- font awesome -->
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.3/css/all.css" integrity="sha384-UHRtZLI+pbxtHCWp1t77Bi1L4ZtiqrqD80Kn4Z8NTSRyMA2Fd33n5dQ8lWUE00s/"
	 crossorigin="anonymous" />

    <!-- page title -->
    <title>MasteryJapanese | Verb Practice</title>

</head>

<body>
    
    <main>

        <div id="question-div">

            {{ question }}

        </div>

        <div id="stats-div">

            <ul>

                <li>
                    <i class="fas fa-thumbs-up" title="Correct Answers"></i>
                    <p id="correct-answers-stat" name="correct-answers-stat">{{ correct_answers_stat }}</p>
                </li>

                <li>
                    <i class="fas fa-thumbs-down" title="Incorrect Answers"></i>
                    <p id="incorrect-answers-stat" name="incorrect-answers-stat">{{ incorrect_answers_stat }}</p>
                </li>

                <li>
                    <i class="fas fa-hashtag" title="Total number of questions"></i>
                    <p id="total-questions">{{ number_of_verbs }}</p>
                </li>

            </ul>

        </div>


        <div id="reset-practice-div">

            <a href="{{ url_for('reset_session_memory') }}">Reset Practice</a>

        </div>


        <div id="answer-input-div">

            <form action="{{ url_for('index') }}" method="POST">

                <p id="answer-p" style="color: {{ color }};">{{ answer }}</p>
                <p id="your-answer-p" style="color: skyblue;">{{ your_answer }}</p>

                <input type="text" name="answer" id="answer" placeholder="Your answer ..." required {{ disable_input }}>

                <input type="hidden" name="question" value="{{ question }}">
                <input type="hidden" name="correct_answers" value="{{ correct_answers }}">

                <input type="submit" value="check" {{ disable_button }}>

                <p style="font-size: 24px;"> {{ test }} </p>

            </form>

        </div>

        <style>

            #keyboard {
                background-color: lightgray;
                overflow: hidden;
                box-sizing: border-box;
                padding: 15px;
                width: 350px;
                margin: 0 auto;
                border-radius: 20px;
            }

            .key {
                float: left;
                width: 30px;
                height: 40px;
                box-sizing: border-box;
                margin: 1px;
                background-color: rgb(40, 40, 40);
                color: white;
                text-align: center;
                padding-top: 8px;
                border-radius: 8px;
                cursor: pointer;
            }

            #key-return {
                float: left;
                width: 62px;
                height: 40px;
                box-sizing: border-box;
                margin: 1px;
                background-color: rgb(40, 40, 40);
                color: white;
                text-align: center;
                padding-top: 8px;
                border-radius: 8px;
                cursor: pointer;
            }

            #key-space {
                float: left;
                width: 222px;
                height: 40px;
                box-sizing: border-box;
                margin: 1px;
                background-color: rgb(40, 40, 40);
                color: white;
                text-align: center;
                padding-top: 5px;
                border-radius: 8px;
                cursor: pointer;
            }

            #key-row3 {
                box-sizing: border-box;
                margin-left: 16px;
            }

            #key-row4 {
                box-sizing: border-box;
                margin-left: 32px;
            }

        </style>

        <div id="keyboard">

            <div id="key-row1">

                <div id="key-1" class="key">1</div>
                <div id="key-2" class="key">2</div>
                <div id="key-3" class="key">3</div>
                <div id="key-4" class="key">4</div>
                <div id="key-5" class="key">5</div>
                <div id="key-6" class="key">6</div>
                <div id="key-7" class="key">7</div>
                <div id="key-8" class="key">8</div>
                <div id="key-9" class="key">9</div>
                <div id="key-0" class="key">0</div>

            </div>

            <div id="key-row2">

                <div id="key-q" class="key">q</div>
                <div id="key-w" class="key">w</div>
                <div id="key-e" class="key">e</div>
                <div id="key-r" class="key">r</div>
                <div id="key-t" class="key">t</div>
                <div id="key-y" class="key">y</div>
                <div id="key-u" class="key">u</div>
                <div id="key-i" class="key">i</div>
                <div id="key-o" class="key">o</div>
                <div id="key-p" class="key">p</div>

            </div>

            <div id="key-row3">

                <div id="key-a" class="key">a</div>
                <div id="key-s" class="key">s</div>
                <div id="key-d" class="key">d</div>
                <div id="key-f" class="key">f</div>
                <div id="key-g" class="key">g</div>
                <div id="key-h" class="key">h</div>
                <div id="key-j" class="key">j</div>
                <div id="key-k" class="key">k</div>
                <div id="key-l" class="key">l</div>

            </div>

            <div id="key-row4">

                <div id="key-z" class="key">z</div>
                <div id="key-x" class="key">x</div>
                <div id="key-c" class="key">c</div>
                <div id="key-v" class="key">v</div>
                <div id="key-b" class="key">b</div>
                <div id="key-n" class="key">n</div>
                <div id="key-m" class="key">m</div>
                <div id="key-return" class="key">return</div>

            </div>

            <div id="key-row4">

                <div id="key-space" class="key">space</div>

            </div>

        </div>
        
    </main>

<script>

    // Focus text cursor on textbox
    $('#answer').focus();

    let test = ''

    $(document).on("click", ".key", function () {

        let pushed = $(this).attr('id');
        let x = '';

        switch(pushed) {

            case 'key-1':
                x = '1';
                break;

            case 'key-2':
                x = '2';
                break;

            case 'key-3':
                x = '3';
                break;

            case 'key-4':
                x = '4';
                break;

            case 'key-5':
                x = '5';
                break;

            case 'key-6':
                x = '6';
                break;

            case 'key-7':
                x = '7';
                break;

            case 'key-8':
                x = '8';
                break;

            case 'key-9':
                x = '9';
                break;

            case 'key-0':
                x = '0';
                break;

            case 'key-q':
                x = 'q';
                break;

            case 'key-w':
                x = 'w';
                break;

            case 'key-e':
                x = 'e';
                break;

            case 'key-r':
                x = 'r';
                break;

            case 'key-t':
                x = 't';
                break;

            case 'key-y':
                x = 'y';
                break;

            case 'key-u':
                x = 'u';
                break;

            case 'key-i':
                x = 'i';
                break;

            case 'key-o':
                x = 'o';
                break;

            case 'key-p':
                x = 'p';
                break;

            case 'key-a':
                x = 'a';
                break;

            case 'key-s':
                x = 's';
                break;

            case 'key-d':
                x = 'd';
                break;

            case 'key-f':
                x = 'f';
                break;

            case 'key-g':
                x = 'g';
                break;

            case 'key-h':
                x = 'h';
                break;

            case 'key-j':
                x = 'j';
                break;

            case 'key-k':
                x = 'k';
                break;

            case 'key-l':
                x = 'l';
                break;

            case 'key-z':
                x = 'z';
                break;

            case 'key-x':
                x = 'x';
                break;

            case 'key-c':
                x = 'c';
                break;

            case 'key-v':
                x = 'v';
                break;

            case 'key-b':
                x = 'b';
                break;

            case 'key-n':
                x = 'n';
                break;

            case 'key-m':
                x = 'm';
                break;

            case 'key-space':
                x = ' '
                break;

            case 'key-return':
                $('input[type="text"]').val($('input[type="text"]').val().slice(0, -1));
                break;

        }

        $('input[type="text"]').val($('input[type="text"]').val() + x);

        test = test + x

        if(test == 'ka') {

            let v = $('input[type="text"]').val().slice(0, -2)
            v = v + 'か'
            $('input[type="text"]').val(v)
            test =''

        }

        if(test == 'sa') {

            let v = $('input[type="text"]').val().slice(0, -2)
            v = v + 'さ'
            $('input[type="text"]').val(v)
            test =''
        }

    });

</script>

</body>     

</html>